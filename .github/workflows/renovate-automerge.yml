---
name: Renovate Auto Merge

on:
    pull_request:

# Ensure only one instance of this workflow runs per PR at a time.
# With cancel-in-progress: false, new runs wait for previous ones to complete
# instead of cancelling them. This prevents race conditions when multiple commits
# are pushed quickly (e.g., by Renovate rebasing), ensuring each commit's checks
# finish before the next automerge attempt starts.
# See example: https://github.com/camunda/camunda-deployment-references/pull/1352
concurrency:
    group: ${{ github.workflow }}-${{ github.ref }}
    cancel-in-progress: false

jobs:
    renovate-automerge:
        uses: camunda/infraex-common-config/.github/workflows/automerge-global.yml@e3c0265ea6dee906c0fbc78e94d8acf7ff23c08e # 1.5.5
        secrets: inherit
