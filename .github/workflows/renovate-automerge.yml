---
name: Renovate Auto Merge

on:
    pull_request:

# Ensure only one instance of this workflow runs per PR at a time.
# With cancel-in-progress: false, new runs wait for previous ones to complete
# instead of cancelling them. This prevents race conditions when multiple commits
# are pushed quickly (e.g., by Renovate rebasing), ensuring each commit's checks
# finish before the next automerge attempt starts.
# See example: https://github.com/camunda/camunda-deployment-references/pull/1352
concurrency:
    group: ${{ github.workflow }}-${{ github.ref }}
    cancel-in-progress: false

jobs:
    renovate-automerge:
        uses: camunda/infraex-common-config/.github/workflows/automerge-global.yml@b52f5bb65b5bb9e0b0458c46b8671bf1fe9a907f # 1.5.7
        secrets: inherit
